@page "/counter"
@using GateKeeper.AI.Orchestrator
@rendermode InteractiveServer

@inject IOrchestratorService OrchestratorService;



<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<p role="status">Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

@code {
    private int currentCount = 0;

    private async Task IncrementCount()
    {
        //await OrchestratorService.Create("create new tag v1.2.661 and generate the release log and push to main on repo copilot_security");

        //await OrchestratorService.Create("do a smart code review of latest PR on repo copilot_security");
        //OrchestratorService.Create("report all the vulnerabilities int the repo copilot_security");

        //await OrchestratorService.TestAgent("create tag v1.2.510 and generate release notes and push it to main on repo copilot_security");

        //  await OrchestratorService.TestAgent("do the code review of latest pull request the repo copilot_security");


        // Trust Agent
        await OrchestratorService.TestAgent("Get vulnerabilities and license risk scanning report");
        await OrchestratorService.TestAgent("Get vulnerabilities and license risk scanning report between v1.2.510 and v1.2.509");

        currentCount++;
    }

}
